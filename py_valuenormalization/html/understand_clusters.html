<script type="text/javascript">
var getMergedClusters = function(e) {
	var mrgClstrs = new Object();
	for (var kk in merged_clusters) {
		mrgClstrs[kk] = [];
		for (var hhx = 0; hhx < merged_clusters[kk].length; hhx++) {
			hh = merged_clusters[kk][hhx];
			mrgClstrs[kk].push(hh);
		}
	}
	return mrgClstrs;
}

var mergedClusters = getMergedClusters();
</script>

<style>

//body {
//	font: 10px sans-serif;
//}

.hist-bar rect {
	fill: steelblue;
	shape-rendering: crispEdges;
}

.hist-bar text {
	fill: #fff;
}

.hist-axis path, .hist-axis line {
	fill: none;
	stroke: #000;
	shape-rendering: crispEdges;
}

.node {
	  cursor: pointer;
}

.node circle {
	  fill: #fff;
	    stroke: steelblue;
		  stroke-width: 1.5px;
}

.node text {
	  font: 12px sans-serif;
}

.link {
	  fill: none;
	    stroke: #ccc;
		  stroke-width: 1.5px;
}

</style>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
<style>
.btn_clust.active {
	background-color: gray;
	color: white;
}
</style>

<div class="container" style="width: 90%;">
	<div id="clustering_summary_panel" class="panel panel-default">
		<div class="panel-heading">
			<h3>Reviewing the Input Clusters (Optional)</h3>
		</div>
		<div class="panel-body">
			<p></p>
			<div class="well"><h4>
					<p>In this optional step, you can see a summary of the input clusters (number of clusters, maximum and minimum size of the clusters), the histogram of the cluster sizes, and the input clusters themselves.</p>
					<p>Once you have finished exploring the clusters, you can click the "Start Cleaning Up" button at the bottom right corner to start the process of cleaning up the input clusters.</p>
			</h4><p></p></div>
		</div><p></p>

		<div class="panel-body">
			<div class="panel panel-primary">	
				<table id="clustering_summary_table" class="table table-striped" style="width: 100%;">
					<script type="text/javascript">
						showClusteringSummary();
					</script>
				</table>
			</div>

			<div id="size_histogram">
				<h4>Input Cluster Size Histogram:</h4>
				<script>
					generateClusterSizeHistogram();
				</script>
			</div>
		</div>
	</div>
	<div id="clustering_results_panel" class="panel panel-default">
		<div class="panel-heading">
			<h4>Input Clustering</h4>
		</div>
		<div class="panel-body">
			<div id="d3cluster">
				<script>
					plotClusters();
				</script>
			</div>
		</div>
	</div>
	<div id="start_clean_up" class="panel panel-default">
		<div class="panel-body" id="start_cleanup_panel" style="width: 100%;">
			<table style="width: 100%;">
				<tr>
					<td style="width: 80%;">
						<h4> Click the "Start Cleaning Up" button to proceed.</h4>
					</td>
					<td style="width: 20%;" align="right">
						<div class="col-sm">
							<button class="btn btn-primary pull-right" id="start-cleanup-btn" type="button">Start Cleaning Up</button>
						</div>
					</td>
				</tr>
			</table>
		</div>
	</div>
</div>
