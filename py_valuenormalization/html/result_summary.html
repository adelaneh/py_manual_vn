<script type="text/javascript">
var getMergedClusters = function(e) {
    var mrgClstrs = new Object();
    for (var kk in merged_clusters) {
        mrgClstrs[kk] = [];
        for (var hhx = 0; hhx < merged_clusters[kk].length; hhx++) {
            hh = merged_clusters[kk][hhx];
            mrgClstrs[kk].push(hh);
        }
    }
    return mrgClstrs;
}

var mergedClusters = getMergedClusters();
</script>

<style>

//body {
//    font: 10px sans-serif;
//}

.hist-bar rect {
    fill: steelblue;
    shape-rendering: crispEdges;
}

.hist-bar text {
    fill: #fff;
}

.hist-axis path, .hist-axis line {
    fill: none;
    stroke: #000;
    shape-rendering: crispEdges;
}

.node {
      cursor: pointer;
}

.node circle {
      fill: #fff;
        stroke: steelblue;
          stroke-width: 1.5px;
}

.node text {
      font: 12px sans-serif;
}

.link {
      fill: none;
        stroke: #ccc;
          stroke-width: 1.5px;
}

</style>
<body>
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>-->
<style>
.btn_clust.active {
    background-color: gray;
    color: white;
}
</style>

<div class="container" style="width: 90%;">
    <div id="clustering_summary_panel" class="panel panel-default">
        <!--        <div class="well"><h4>You are done! You may now close the window.</h4><p></p></div>-->

        <div class="panel-heading">
            <h3>Clustering Results Summary</h3>
        </div>
        <div class="panel-body">
            <p></p>
            <div class="well"><h4>
                    <p>You are done! You can see below a summary of the clustering results (number of clusters, maximum and minimum size of the clusters), the histogram of the cluster sizes, and the final clusters.</p>
                    <p>Once you have finished browsing, close the window. The function that you have called will terminate, outputting a set of clusters (as the result of the normalization process). The output is a dictionary where each key is the label of a cluster, and the corresponding value is the set of data values in this cluster.</p>
            </h4><p></p></div>
        </div><p></p>

        <div class="panel-body">
            <div class="panel panel-primary">    
                <table id="clustering_summary_table" class="table table-striped" style="width: 100%;">
                    <script type="text/javascript">
                        showClusteringSummary();
                    </script>
                </table>
            </div>

            <div id="size_histogram">
                <h4>Cluster Size Histogram:</h4>
                <script>
                    generateClusterSizeHistogram();
                </script>
            </div>
        </div>
    </div>
    <div id="clustering_results_panel" class="panel panel-default">
        <div class="panel-heading">
            <h4>Final Clustering</h4>
        </div>
        <div class="panel-body">
            <div id="d3cluster">
                <script>
                    plotClusters();
                </script>
            </div>
        </div>
    </div>
</div>
