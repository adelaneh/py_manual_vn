<style>
.btn_clust.active {
    background-color: gray;
    color: white;
}
.btn-primary {
    margin-right: 60px;
    margin-left: 60px;
}
</style>

<script type="text/javascript">
var getCurrentClusters = function(e) {
    var curClstrs = new Object();
    for (var kk in clusters) {
        curClstrs[kk] = [];
        for (var hhx = 0; hhx < clusters[kk].length; hhx++) {
            hh = clusters[kk][hhx];
            curClstrs[kk].push(hh);
        }
    }
    return curClstrs;
}

//var getUARecordedTimes = function(e) {
//    var rectimes = new Object();
//    {% for kk,vv in request.session.recorded_resps.items %}
//        rectimes["{{ kk }}"] = [];
//        {% for hh in vv %}
//            rectimes["{{ kk }}"].push("{{ hh }}");
//        {% endfor %}
//    {% endfor %}
//    return rectimes;
//}

var allClusts = getCurrentClusters();
//var recorded_resps = getUARecordedTimes();
//var seq_counter = {{ request.session.seq_counter }};
</script>

<div class="container" style="width: 90%;">
    <div id="ua_match_calib_panel" class="panel panel-default">
        <div class="panel-heading">
            <p><h3>Cost Model Calibration</h3></p>
            <p><h4>To help picking the best clustering algorithm parameter settings, you can answer a few question about the data values and collections of data values.</h4></p>
            <p><h4>Using your answers, we create a cost model to estimate the time you will spend cleaning up each clustering of input data values. Then we pick the clustering algorithm parameter settings such that you need to spend the least time cleaning up the clusters generated by using this clustering algorithm.</h4></p>
        </div>
        <div class="panel-body" id="ua_match_div">
            <div id="match_instructions_box" class="well">
                <h4><p>During this step you see 3 pairs of values from the input dataset, one pair at a time. For each pair, first understand each of the two values. Then decide whether they refer to the same entity or not. Click "Yes" if they refer to the same entity and click "No" if they refer to differencet entities.</p>
                    <p></p></h4>
                <p></p>
            </div>

            <div id="start_matching_btn_panel" class="panel panel-primary">    
                <div class="panel-body" id="start_matching_btn_panel_body" style="width: 100%;">
                    <table style="width: 100%;">
                        <tr>
                            <td style="width: 80%;">
                                <h4>When you're ready to start, press "Start Matching Values" button.</h4>
                            </td>
                            <td style="width: 20%;" align="right">
                                <button class="btn btn-primary pull-right" id="start_matching_btn" type="button" onclick="loadValues()">Start Matching Values</button>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <p></p>

            <div id="match_desc_box" class="well" style="display: none;">
                <h4><p>First understand each of the two values shown below and then decide whether they refer to the same entity. Click "Yes" if they refer to the same entity and click "No" if they refer to differencet entities.</p></h4>
                <p></p>
            </div>

            <div id="match_yesno_box_top" style="display: none;">
                <table style="width: 100%;">
                    <tr>
                        <td>
                            <label for="answersgrp_top" class="control-label">Do the values below refer to the same entity?</label>
                        </td>
                        <td>
                            <div id="answersgrp_top" class="btn-group pull-right" role="group" aria-label="answers">
                                <button class="btn btn-primary" id="match_no_top" type="button" onclick="matchNo()">No</button>
                                <button class="btn btn-primary" id="match_yes_top" type="button" onclick="matchYes()">Yes</button>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <p></p>

            <div id="values-panel" class="panel panel-primary" style="display: none;">    
                <div class="panel-heading" id="countdown"></div>
                <p></p>
                <div class="panel-body" id="values_panel_body">
                </div>
            </div>
            <p></p>
            <div id="match_yesno_box_bottom" style="display: none;">
                <table style="width: 100%;">
                    <tr>
                        <td>
                            <label for="answersgrp_bottom" class="control-label">Do the values above refer to the same entity?</label>
                        </td>
                        <td>
                            <div id="answersgrp_bottom" class="btn-group pull-right" role="group" aria-label="answers">
                                <button class="btn btn-primary" id="match_no_bottom" type="button" onclick="matchNo()">No</button>
                                <button class="btn btn-primary" id="match_yes_bottom" type="button" onclick="matchYes()">Yes</button>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>
